(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4578:function(e,t,r){Promise.resolve().then(r.bind(r,6774))},6774:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),a=r(2265),s=r(6463),i=r(8614),c=r(815),o=r(3039),u=r(2215);function l(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)([]),[l,d]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let t=sessionStorage.redirect;delete sessionStorage.redirect,t&&t!==location.href&&e.push(t)},[e]),(0,a.useEffect)(()=>{(async function(){await (0,u.k2)();let e=await (0,u.iM)();r(e),d(e)})()},[]),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Bar Curionへようこそ"}),(0,n.jsx)(o.Z,{onSearch:e=>{d(t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())||t.ingredients.some(t=>t.name.toLowerCase().includes(e.toLowerCase()))))}}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,n.jsx)(c.Z,{recipe:e},e.id))})]})}},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},8614:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),a=r(7138);function s(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"container mx-auto px-4",children:[(0,n.jsx)("header",{className:"py-4",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"flex space-x-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)(a.default,{href:"/",children:"ホーム"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a.default,{href:"/recipes",children:"レシピ一覧"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a.default,{href:"/graph",children:"関係グラフ"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a.default,{href:"/admin",children:"管理画面"})})]})})}),(0,n.jsx)("main",{children:t}),(0,n.jsx)("footer",{className:"py-4 mt-8 border-t",children:(0,n.jsx)("p",{children:"\xa9 2024 Bar Curion"})})]})}},815:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);r(6648);var a=r(7138);function s(e){let{recipe:t}=e;return(0,n.jsxs)("div",{className:"border p-4 rounded shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:t.name}),(0,n.jsx)("p",{className:"text-gray-600 mb-2",children:t.category}),(0,n.jsxs)("p",{className:"mb-2",children:["材料: ",t.ingredients.length,"種類"]}),(0,n.jsx)(a.default,{href:"/recipes/".concat(t.id),className:"text-blue-500 hover:underline",children:"詳細を見る"})]})}},3039:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),a=r(2265);function s(e){let{onSearch:t}=e,[r,s]=(0,a.useState)("");return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(r)},className:"mb-4",children:[(0,n.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),placeholder:"レシピ名、材料、カテゴリーでレシピを検索...",className:"w-full p-2 border rounded"}),(0,n.jsx)("button",{type:"submit",className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"検索"})]})}},2215:function(e,t,r){"use strict";r.d(t,{Fu:function(){return d},iM:function(){return u},k2:function(){return o},wb:function(){return l}});var n=r(9879),a=r(354);r(5312);let s=null,i=null;async function c(e){let t=new n.z,r=new a.P(t,{});try{let t;{let r=await fetch(e);if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));t=await r.json()}r.data=t,await r.write()}catch(e){throw console.error("Error in initDb:",e),e}return r}async function o(){s||(s=await c("/data/recipes.json")),i||(i=await c("/data/graph-data.json"))}async function u(){return await o(),s.data.cocktails}async function l(e){return await o(),s.data.cocktails.find(t=>t.id===parseInt(e))||null}async function d(){return await o(),i.data}},9879:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});class n{#e=null;read(){return Promise.resolve(this.#e)}write(e){return this.#e=e,Promise.resolve()}}},5312:function(){},354:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});class n{adapter;data;constructor(e,t){!function(e,t){if(void 0===e)throw Error("lowdb: missing adapter");if(void 0===t)throw Error("lowdb: missing default data")}(e,t),this.adapter=e,this.data=t}async read(){let e=await this.adapter.read();e&&(this.data=e)}async write(){this.data&&await this.adapter.write(this.data)}async update(e){e(this.data),await this.write()}}}},function(e){e.O(0,[231,974,971,23,744],function(){return e(e.s=4578)}),_N_E=e.O()}]);